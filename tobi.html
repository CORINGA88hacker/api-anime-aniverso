<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Editor de JSON - GitHub</title>
  <style>
    body { font-family: Arial, sans-serif; background: #1e1e1e; color: #f5f5f5; margin: 0; padding: 0; }
    header { background: #ff4500; padding: 15px; text-align: center; font-size: 20px; font-weight: bold; }
    #editor { width: 95%; height: 400px; margin: 15px auto; display: block; font-family: monospace; }
    button { margin: 5px; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; background: #ff4500; color: white; }
    select { margin: 5px; padding: 8px; }
    .controls { text-align: center; margin: 10px; }
  </style>
</head>
<body>
  <header>Editor de JSON - GitHub</header>
  <div class="controls">
    <select id="arquivo">
      <option value="animes.json">animes.json</option>
      <option value="episodios.json">episodios.json</option>
      <option value="temporadas.json">temporadas.json</option>
    </select>
    <button onclick="carregar()">Carregar</button>
    <button onclick="salvar()">Salvar</button>
  </div>
  <textarea id="editor" placeholder="Edite o JSON aqui..."></textarea>
  <script>
    async function carregar() {
      const arquivo = document.getElementById("arquivo").value;
      const url = `https://raw.githubusercontent.com/CORINGA88hacker/api-animes/main/${arquivo}`;
      const res = await fetch(url);
      const data = await res.json();
      document.getElementById("editor").value = JSON.stringify(data, null, 2);
    }

    async function salvar() {
      const arquivo = document.getElementById("arquivo").value;
      const conteudo = document.getElementById("editor").value;
      let formData = new FormData();
      formData.append("arquivo", arquivo);
      formData.append("conteudo", conteudo);

      const res = await fetch("salvar.php", { method: "POST", body: formData });
      const data = await res.text();
      alert("Resultado: " + data);
    }
  </script>
</body>
</html>
